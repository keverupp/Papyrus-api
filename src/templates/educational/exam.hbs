<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{title}}</title>
    <style>
      * { margin: 0; padding: 0; box-sizing: border-box; } body { font-family:
      'Segoe UI', 'Helvetica Neue', 'Arial', sans-serif; font-size: 9px;
      line-height: 1.4; color: #2c3e50; background: #fff; letter-spacing:
      0.02em; } .container { width: 100%; max-width: 800px; margin: 0 auto;
      padding: 12px; position: relative; } .header { text-align: center;
      margin-bottom: 20px; border-bottom: 3px solid #34495e; padding-bottom:
      12px; background: linear-gradient(135deg, #f8f9fa 0%, #ecf0f1 100%);
      margin: -12px -12px 20px -12px; padding: 15px 12px 12px 12px;
      border-radius: 6px 6px 0 0; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
      .header h1 { font-size: 18px; font-weight: 700; margin-bottom: 6px;
      text-transform: uppercase; color: #2c3e50; letter-spacing: 1.5px;
      text-shadow: 0 1px 2px rgba(0,0,0,0.1); } .header .institution {
      font-size: 12px; margin-top: 4px; color: #7f8c8d; font-weight: 500;
      letter-spacing: 0.5px; } .exam-info { display: flex; justify-content:
      space-between; margin: 15px 0; font-size: 8px; background:
      linear-gradient(135deg, #e8f4fd 0%, #f0f8ff 100%); padding: 8px 10px;
      border-radius: 4px; border-left: 3px solid #3498db; box-shadow: 0 2px 4px
      rgba(0,0,0,0.05); flex-wrap: wrap; gap: 10px; } .exam-info div { flex: 1;
      min-width: 120px; } .exam-info strong { font-weight: 600; color: #2c3e50;
      font-size: 7px; text-transform: uppercase; letter-spacing: 0.3px;
      margin-right: 4px; } .student-info { border: 2px solid #34495e; padding:
      10px; margin-bottom: 18px; background: linear-gradient(135deg, #fff5f5 0%,
      #fef9f9 100%); border-radius: 6px; border-left: 4px solid #e74c3c;
      box-shadow: 0 3px 6px rgba(0,0,0,0.1); } .student-info h3 { font-size:
      10px; margin-bottom: 8px; border-bottom: 2px solid #bdc3c7;
      padding-bottom: 4px; font-weight: 600; color: #2c3e50; text-transform:
      uppercase; letter-spacing: 0.5px; } .student-fields { display: flex; gap:
      15px; margin-top: 10px; flex-wrap: wrap; } .field { flex: 1;
      border-bottom: 2px solid #34495e; padding-bottom: 3px; margin-bottom: 8px;
      min-width: 100px; position: relative; } .field label { font-size: 7px;
      color: #7f8c8d; display: block; font-weight: 600; text-transform:
      uppercase; letter-spacing: 0.3px; margin-bottom: 2px; } .field
      .input-space { height: 18px; border-radius: 2px; background:
      rgba(255,255,255,0.8); } .instructions { background:
      linear-gradient(135deg, #f0fff4 0%, #f9fff9 100%); border: 1px solid
      #27ae60; padding: 10px; margin-bottom: 18px; border-radius: 6px;
      border-left: 4px solid #27ae60; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
      .instructions h4 { font-size: 10px; margin-bottom: 8px; font-weight: 600;
      color: #2c3e50; text-transform: uppercase; letter-spacing: 0.5px; }
      .instructions ul { margin-left: 15px; font-size: 8px; color: #5d6d7e; }
      .instructions li { margin-bottom: 3px; line-height: 1.4; } .instructions
      .text-content { font-size: 8px; color: #5d6d7e; line-height: 1.4; }
      .question { margin-bottom: 20px; page-break-inside: avoid; background:
      #fafbfc; border: 1px solid #ecf0f1; border-radius: 6px; padding: 12px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05); transition: all 0.2s ease; }
      .question:hover { box-shadow: 0 3px 6px rgba(0,0,0,0.1); border-color:
      #d5dbdb; } .question-header { display: flex; align-items: flex-start;
      margin-bottom: 10px; padding-bottom: 6px; border-bottom: 1px solid
      #ecf0f1; } .question-number { font-weight: 700; min-width: 25px;
      font-size: 11px; color: #3498db; background: #e8f4fd; padding: 2px 6px;
      border-radius: 3px; text-align: center; } .question-text { flex: 1;
      font-size: 9px; line-height: 1.5; margin-left: 10px; color: #2c3e50; }
      .question-points { font-size: 8px; color: #7f8c8d; font-style: italic;
      margin-left: 10px; background: #f8f9fa; padding: 2px 6px; border-radius:
      3px; font-weight: 500; } .options { margin-left: 25px; margin-top: 8px; }
      .option { display: flex; align-items: flex-start; margin-bottom: 6px;
      font-size: 8px; background: rgba(255,255,255,0.6); padding: 4px 6px;
      border-radius: 3px; border-left: 2px solid #ecf0f1; transition: all 0.2s
      ease; } .option:hover { background: rgba(52, 152, 219, 0.1);
      border-left-color: #3498db; } .option-letter { font-weight: 700;
      min-width: 18px; color: #3498db; font-size: 8px; } .option-text { flex: 1;
      line-height: 1.4; color: #2c3e50; } .answer-space { margin-left: 25px;
      margin-top: 10px; min-height: 35px; border: 1px solid #d5dbdb; position:
      relative; background: linear-gradient(to bottom, #fdfdfd 0%, #f8f9fa
      100%); border-radius: 4px; box-shadow: inset 0 2px 4px rgba(0,0,0,0.03);
      overflow: hidden; } .answer-space.large { min-height: 70px; }
      .answer-space.xlarge { min-height: 100px; } .answer-lines { position:
      absolute; top: 8px; left: 8px; right: 8px; bottom: 8px; display: flex;
      flex-direction: column; justify-content: space-between; } .answer-line {
      border-bottom: 1px dotted #bdc3c7; height: 18px; flex: 1; min-height:
      16px; position: relative; background: linear-gradient(to right, rgba(52,
      152, 219, 0.05) 0%, transparent 20px); } .answer-line::before { content:
      ''; position: absolute; left: 0; top: 50%; width: 2px; height: 2px;
      background: #e74c3c; border-radius: 50%; transform: translateY(-50%);
      opacity: 0.3; } .essay-space { margin-top: 15px; min-height: 180px;
      border: 2px solid #9b59b6; position: relative; page-break-inside: avoid;
      background: linear-gradient(to bottom, #fdfdfd 0%, #faf9fc 100%);
      border-radius: 6px; box-shadow: 0 3px 6px rgba(0,0,0,0.08); overflow:
      hidden; } .essay-lines { position: absolute; top: 12px; left: 12px; right:
      12px; bottom: 12px; display: flex; flex-direction: column; } .essay-line {
      border-bottom: 1px solid #e8e8e8; height: 20px; margin-bottom: 2px;
      position: relative; background: linear-gradient(to right, rgba(155, 89,
      182, 0.03) 0%, transparent 25px); } .essay-line::before { content: '';
      position: absolute; left: 0; top: 50%; width: 1px; height: 100%;
      background: rgba(155, 89, 182, 0.2); transform: translateY(-50%); }
      .essay-line:nth-child(5n)::after { content: ''; position: absolute; right:
      0; top: 50%; width: 8px; height: 1px; background: rgba(155, 89, 182, 0.3);
      transform: translateY(-50%); } .page-break { page-break-before: always; }
      .essay-section { text-align: center; font-weight: 700; font-size: 14px;
      margin-bottom: 20px; color: #2c3e50; text-transform: uppercase;
      letter-spacing: 1px; padding: 10px; background: linear-gradient(135deg,
      #f8f9fa 0%, #ecf0f1 100%); border-radius: 6px; border: 2px solid #9b59b6;
      } .footer { position: fixed; bottom: 8px; left: 0; right: 0; text-align:
      center; font-size: 7px; color: #95a5a6; background: rgba(255,255,255,0.9);
      padding: 4px; border-top: 1px solid #ecf0f1; font-weight: 500; } /*
      Impressão */ @media print { body { font-size: 8pt; color: #000;
      -webkit-print-color-adjust: exact; color-adjust: exact; } .container {
      padding: 8px; } .footer { position: absolute; background: transparent; }
      .question, .student-info, .instructions, .exam-info { background: #fff
      !important; box-shadow: none !important; border-color: #999 !important; }
      .header { background: #fff !important; } .question:hover, .option:hover {
      background: transparent !important; border-color: inherit !important; }
      .question-number { background: transparent !important; border: 1px solid
      #999 !important; } .question-points { background: transparent !important;
      } .answer-space, .essay-space { background: #fff !important; border-color:
      #999 !important; } .answer-line { border-bottom: 1px solid #ccc
      !important; background: transparent !important; } .answer-line::before {
      display: none !important; } .essay-line { border-bottom: 1px solid #ccc
      !important; background: transparent !important; } .essay-line::before,
      .essay-line::after { display: none !important; } } /* Responsividade */
      @media (max-width: 600px) { .container { padding: 8px; } .exam-info {
      flex-direction: column; gap: 6px; } .student-fields { flex-direction:
      column; gap: 8px; } .question-header { flex-direction: column; gap: 6px; }
      .question-text { margin-left: 0; } .options, .answer-space { margin-left:
      0; } }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Cabeçalho -->
      <div class="header">
        <h1>{{title}}</h1>
        {{#if exam.institution}}
          <div class="institution">{{exam.institution}}</div>
        {{/if}}
      </div>

      <!-- Informações do Exame -->
      <div class="exam-info">
        <div><strong>Disciplina:</strong> {{exam.subject}}</div>
        <div><strong>Data:</strong> {{date "DD/MM/YYYY"}}</div>
        <div><strong>Duração:</strong> {{exam.duration}}</div>
        {{#if exam.professor}}
          <div><strong>Professor:</strong> {{exam.professor}}</div>
        {{/if}}
      </div>

      <!-- Informações do Aluno -->
      <div class="student-info">
        <h3>Dados do Aluno</h3>
        <div class="student-fields">
          <div class="field">
            <label>Nome:</label>
            <div class="input-space"></div>
          </div>
          <div class="field" style="max-width: 140px;">
            <label>Matrícula:</label>
            <div class="input-space"></div>
          </div>
          <div class="field" style="max-width: 100px;">
            <label>Turma:</label>
            <div class="input-space"></div>
          </div>
        </div>
      </div>

      <!-- Instruções -->
      {{#if exam.instructions}}
        <div class="instructions">
          <h4>Instruções</h4>
          {{#if exam.instructions.list}}
            <ul>
              {{#each exam.instructions.list}}
                <li>{{this}}</li>
              {{/each}}
            </ul>
          {{else}}
            <div class="text-content">{{{br exam.instructions}}}</div>
          {{/if}}
        </div>
      {{/if}}

      <!-- Questões -->
      {{#if exam.questions}}
        {{#each exam.questions}}
          <div class="question">
            <div class="question-header">
              <div class="question-number">{{math @index "+" 1}}</div>
              <div class="question-text">{{{br text}}}</div>
              {{#if points}}
                <div class="question-points">({{points}} pts)</div>
              {{/if}}
            </div>

            {{#ifCond type "===" "multiple_choice"}}
              <!-- Questão Múltipla Escolha -->
              {{#if options}}
                <div class="options">
                  {{#each options}}
                    <div class="option">
                      <div class="option-letter">{{#ifCond
                          @index "===" 0
                        }}a){{/ifCond}}{{#ifCond
                          @index "===" 1
                        }}b){{/ifCond}}{{#ifCond
                          @index "===" 2
                        }}c){{/ifCond}}{{#ifCond
                          @index "===" 3
                        }}d){{/ifCond}}{{#ifCond
                          @index "===" 4
                        }}e){{/ifCond}}</div>
                      <div class="option-text">{{this}}</div>
                    </div>
                  {{/each}}
                </div>
              {{/if}}
            {{/ifCond}}

            {{#ifCond type "===" "short_answer"}}
              <!-- Questão Dissertativa Curta -->
              <div class="answer-space">
                <div class="answer-lines">
                  {{#times 2}}
                    <div class="answer-line"></div>
                  {{/times}}
                </div>
              </div>
            {{/ifCond}}

            {{#ifCond type "===" "long_answer"}}
              <!-- Questão Dissertativa Longa -->
              <div class="answer-space large">
                <div class="answer-lines">
                  {{#times 4}}
                    <div class="answer-line"></div>
                  {{/times}}
                </div>
              </div>
            {{/ifCond}}

            {{#ifCond type "===" "essay"}}
              <!-- Questão de Redação -->
              <div class="essay-space">
                <div class="essay-lines">
                  {{#times 10}}
                    <div class="essay-line"></div>
                  {{/times}}
                </div>
              </div>
            {{/ifCond}}

            {{#ifCond type "===" "calculation"}}
              <!-- Questão de Cálculo -->
              <div class="answer-space xlarge">
                <div class="answer-lines">
                  {{#times 6}}
                    <div class="answer-line"></div>
                  {{/times}}
                </div>
              </div>
            {{/ifCond}}
          </div>
        {{/each}}
      {{/if}}

      {{#if exam.hasEssaySection}}
        <!-- Seção de Redação -->
        <div class="page-break"></div>
        <div class="essay-section">
          FOLHA DE REDAÇÃO
        </div>
        <div class="essay-space" style="min-height: 450px;">
          <div class="essay-lines">
            {{#times 30}}
              <div class="essay-line"></div>
            {{/times}}
          </div>
        </div>
      {{/if}}
    </div>

    <div class="footer">
      {{exam.subject}}
      -
      {{date "DD/MM/YYYY"}}
      - Página 1
    </div>
  </body>
</html>